(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{230:function(e,t,s){"use strict";s.r(t);var _=s(0),r=Object(_.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("p",[e._v("The following build-specific variables are processed during build time and can be used to replace or exclude code from particular builds.")]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._m(7),s("p",[e._v("Behind the scenes, "),s("a",{attrs:{href:"https://webpack.js.org/plugins/normal-module-replacement-plugin/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[e._v("NormalModuleReplacementPlugin")]),s("OutboundLink")],1),e._v(" replaces the request for "),s("code",[e._v("views/dev/routes-ENVIRONMENT")]),e._v(" with "),s("code",[e._v("views/dev/routes-${process.env.ENV}")]),e._v(". If it canâ€™t find one for the specific environment, it looks for a file without the "),s("code",[e._v("-ENVIRONMENT")]),e._v(" pattern. The same logic applies for "),s("code",[e._v("-TARGET")]),e._v(".")])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"build-time-code-splitting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-time-code-splitting","aria-hidden":"true"}},[this._v("#")]),this._v(" Build-time Code Splitting")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"build-flags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-flags","aria-hidden":"true"}},[this._v("#")]),this._v(" Build Flags")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th",[e._v("Variable")]),e._v(" "),s("th",[e._v("Type")]),e._v(" "),s("th",[e._v("Description")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[s("code",[e._v("_ENVIRONMENT_")])]),e._v(" "),s("td",[e._v("string")]),e._v(" "),s("td",[e._v("The app environment. One of 'development', 'staging', or 'production'")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("_PRODUCTION_")])]),e._v(" "),s("td",[e._v("bool")]),e._v(" "),s("td",[s("code",[e._v("_ENVIRONMENT_")]),e._v(" === 'production'")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("_STAGING_")])]),e._v(" "),s("td",[e._v("bool")]),e._v(" "),s("td",[s("code",[e._v("_ENVIRONMENT_")]),e._v(" === 'staging'")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("_DEVELOPMENT_")])]),e._v(" "),s("td",[e._v("bool")]),e._v(" "),s("td",[s("code",[e._v("_ENVIRONMENT_")]),e._v(" === 'development'")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("_TARGET_")])]),e._v(" "),s("td",[e._v("string")]),e._v(" "),s("td",[e._v("The app target. One of 'com', 'es', or 'uk'")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("_COM_")])]),e._v(" "),s("td",[e._v("bool")]),e._v(" "),s("td",[s("code",[e._v("_TARGET_")]),e._v(" === 'com'")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("_ES_")])]),e._v(" "),s("td",[e._v("bool")]),e._v(" "),s("td",[s("code",[e._v("_TARGET_")]),e._v(" === 'es'")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("_UK_")])]),e._v(" "),s("td",[e._v("bool")]),e._v(" "),s("td",[s("code",[e._v("_TARGET_")]),e._v(" === 'uk'")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"build-specific-imports"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-specific-imports","aria-hidden":"true"}},[this._v("#")]),this._v(" Build-specific imports")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can use "),t("code",[this._v("-ENVIRONMENT")]),this._v(" or "),t("code",[this._v("-TARGET")]),this._v(" patterns in import statements to import a build-specific version of a module.")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("For example, we only want to include dev routes in the "),s("code",[e._v("development")]),e._v(" and "),s("code",[e._v("staging")]),e._v(" environments. So, we create a special "),s("code",[e._v("production")]),e._v(" version of the "),s("code",[e._v("routes.js")]),e._v(" file and then use the "),s("code",[e._v("-ENVIRONMENT")]),e._v(" pattern to import the correct one:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("src/views/dev/routes-production.js    # exports a no-op\nsrc/views/dev/routes.js               # exports the full set of dev routes\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-jsx extra-class"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("import")]),this._v(" devRoutes "),t("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[this._v("'views/dev/routes-ENVIRONMENT'")]),this._v("\n")])])])}],!1,null,null,null);r.options.__file="buildtime-code-splitting.md";t.default=r.exports}}]);