(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{243:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),s("p",[t._v("For more complex forms where it is desirable to group fields, the data shape can contain nested objects. In this case, the field names are the dot-notation paths we all know and love:")]),t._v(" "),t._m(6),s("p",[s("code",[t._v("Form")]),t._v(" passes the data and an "),s("code",[t._v("onChange")]),t._v(" callback down to its child components via the "),s("a",{attrs:{href:"https://medium.com/merrickchristensen/function-as-child-components-5f3920a9ace9",target:"_blank",rel:"noopener noreferrer"}},[t._v("function-as-child idiom"),s("OutboundLink")],1),t._v(". Fields are expected to get their value from this data and fire "),s("code",[t._v("onChange")]),t._v(" when the user updates it. This means that all field components are "),s("a",{attrs:{href:"https://facebook.github.io/react/docs/forms.html#controlled-components",target:"_blank",rel:"noopener noreferrer"}},[t._v("controlled"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),s("table",[t._m(13),t._v(" "),s("tbody",[t._m(14),t._v(" "),t._m(15),t._v(" "),s("tr",[s("td",[t._v("validators")]),t._v(" "),s("td",[t._v("arrayOf(validator)|(data) => arrayOf(validators)")]),t._v(" "),s("td",[t._v("Any validators to execute against the field value. If a function, it is passed the current data and should return a list of validators. See "),s("router-link",{attrs:{to:"/utils/validators.html"}},[t._v("validator docs")]),t._v(" for more info.")],1),t._v(" "),s("td")]),t._v(" "),t._m(16),t._v(" "),t._m(17)])]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),s("table",[t._m(34),t._v(" "),s("tbody",[t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),s("tr",[s("td",[t._v("...")]),t._v(" "),s("td",[t._v("any")]),t._v(" "),s("td",[t._v("Other props from any "),s("router-link",{attrs:{to:"/utils/validators.html"}},[t._v("validators’ "),s("code",[t._v("fieldProps")]),t._v(" prop")]),t._v(".")],1),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("* "),s("em",[t._v("We ask ‘is invalid?’ rather than the more intuitive ‘is valid?’ because by default fields are not validated but should appear valid, thus asking ‘is valid?’ before submission causes "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Uncertainty_principle",target:"_blank",rel:"noopener noreferrer"}},[t._v("Heisenberg"),s("OutboundLink")],1),t._v(" to spin in his grave.")])]),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"form2beta-form"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#form2beta-form","aria-hidden":"true"}},[this._v("#")]),this._v(" Form2Beta Form")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"/src/components/Form2Beta/Form/index.js"}},[e("code",[this._v("Form")])]),this._v(" is a form component used to provide form data and functionality to child components.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Familiar with the concepts? "),e("a",{attrs:{href:"#props"}},[this._v("Skip down to the props section.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"data-management"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#data-management","aria-hidden":"true"}},[this._v("#")]),this._v(" Data management")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("Form")]),this._v(" component owns the data in its "),e("code",[this._v("state")]),this._v(" object. For simple forms, the data shape is a flat object with key/value pairs where the keys correspond to field names:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  streetAddress1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'28 E 28th St'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  streetAddress2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  city"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New York'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  shipping"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    streetAddress1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'433 W Broadway'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this field’s name is 'shipping.streetAddress1'")]),t._v("\n    streetAddress2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    city"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New York'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  billing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    streetAddress1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'28 E 28th St'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this field’s name is 'billing.streetAddress1'")]),t._v("\n    streetAddress2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    city"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New York'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("onChange")]),this._v(" callback expects its argument to be an object with field name/value pairs. This means we can use the same callback for capturing single and multiple field value changes at once.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Here’s a simplified snippet showing how "),e("code",[this._v("TextInput")]),this._v(" manages data:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onChange")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onChange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onChange")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object with name/value pair. Also note we’re not exposing the DOM event.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Fields should hide that complexity from consumers — they are just vessels for data.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onChange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"field-definitions-and-client-side-validation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#field-definitions-and-client-side-validation","aria-hidden":"true"}},[this._v("#")]),this._v(" Field definitions and client-side validation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("Form2Beta")]),this._v(" uses a top-down approach to defining fields. This means that the "),e("code",[this._v("Form")]),this._v(" knows upfront what all the fields are, their user-facing labels, and their validation rules. This is achieved using the "),e("code",[this._v("fieldDefinitions")]),this._v(" prop, which is an array of field definition objects (or a function that returns such an array — more on that below).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Field definition shape")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Prop")]),this._v(" "),e("th",[this._v("Type")]),this._v(" "),e("th",[this._v("Description")]),this._v(" "),e("th",[this._v("Default")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("label")]),this._v(" "),e("td",[this._v("string")]),this._v(" "),e("td",[this._v("The user-facing label for the field.")]),this._v(" "),e("td")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("The key (or path) used for the field in the "),s("code",[t._v("Form")]),t._v(" data.")]),t._v(" "),s("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("requiredMessage")]),this._v(" "),e("td",[this._v("string(label) => message")]),this._v(" "),e("td",[this._v("Sets a custom required message for the specific field")]),this._v(" "),e("td",[e("code",[this._v("validators -> nonEmpty.message()")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("isOptional")]),this._v(" "),e("td",[this._v("bool|(data) => bool")]),this._v(" "),e("td",[this._v("Can the field be empty upon submission? A kind of special-case validator. If a function, it is passed the current data. This is useful for fields whose necessity is determined by other field values.")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Field definitions are used for "),s("strong",[t._v("validation")]),t._v(". When the form is submitted, the "),s("code",[t._v("fieldDefinitions")]),t._v(" array is traversed and the "),s("code",[t._v("validators")]),t._v(" are run against the data. If any validation fails, their messages are appended to a list of errors which is then displayed to the user via notification. Fields are referred to in error messages by their "),s("code",[t._v("label")]),t._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Field definitions are also used for "),s("strong",[t._v("rendering fields")]),t._v(". Rather than defining names and labels in two places, "),s("code",[t._v("fieldDefinitions")]),t._v(" are parsed and passed down to children via "),s("code",[t._v("fieldProps")]),t._v(". See "),s("a",{attrs:{href:"#child-function-argument-props"}},[t._v("Child function argument props")]),t._v(" below.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Field definitions can be "),s("strong",[t._v("dynamic")]),t._v(". In other words, "),s("code",[t._v("fieldDefinitions")]),t._v(" can change throughout the life of the "),s("code",[t._v("Form")]),t._v(" component. For example, a user updating a payment method may switch between using an existing billing address and entering a new one. In this case the component that renders "),s("code",[t._v("Form")]),t._v(" will change the array passed to the "),s("code",[t._v("fieldDefinitions")]),t._v(" prop. Another example is a user switching the country of an address from one that has regions to one that does not (US to PR, for instance). In this case, "),s("code",[t._v("fieldDefinitions")]),t._v(" would be a function that accepts the form data as an argument and returns a field definition array based on the country value. In either of these cases, the Form data will privately hold on to all values the user entered (to prevent data loss) but only pass down the values for the fields currently in the "),s("code",[t._v("fieldDefinitions")]),t._v(" array.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"data-massaging"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#data-massaging","aria-hidden":"true"}},[this._v("#")]),this._v(" Data massaging")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Data can be massaged two different ways: synchronously every time data changes via the "),e("code",[this._v("normalizeData")]),this._v(" prop and asynchronously before submission via the "),e("code",[this._v("onBeforeSubmit")]),this._v(" prop.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("normalizeData")]),this._v(" is useful for accurately diffing data when the user triggers a change. It also helps consumers of the data by ensuring a consistent shape. For example, you may want to remove a key completely if its value is falsey. Finally, it is useful for providing default values, if necessary.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("onBeforeSubmit")]),this._v(" is useful for performing a last minute transformation of the data before it gets sent wherever it needs to go. For example, verifying an address via Smarty Streets may end up changing the address data.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"async-errors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#async-errors","aria-hidden":"true"}},[this._v("#")]),this._v(" Async errors")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If either the "),e("code",[this._v("onBeforeSubmit")]),this._v(" or "),e("code",[this._v("onSubmit")]),this._v(" Promises reject with a value, we consider that value to be an error (or array of errors) and display them to the user via notification. If you want to get really fancy, you can structure your errors such that they will correspond with fields and cause the fields to have invalid styling.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Error shape")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("Prop")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Matches the name in "),s("code",[t._v("fieldDefinitions")]),t._v(".")])]),t._v(" "),s("tr",[s("td",[t._v("message")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Error message.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#props","aria-hidden":"true"}},[this._v("#")]),this._v(" Props")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("Prop")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")]),t._v(" "),s("th",[t._v("Default")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("children")]),t._v(" "),s("td",[t._v("(form) => Component")]),t._v(" "),s("td",[s("code",[t._v("Form")]),t._v(" only accepts a child function, which is passed an object with several "),s("code",[t._v("Form")]),t._v(" instance methods and variables. See "),s("a",{attrs:{href:"#child-function-argument-props"}},[t._v("Child function argument props")]),t._v(" below.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("className")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Style applied to the container div.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("fieldDefinitions")]),t._v(" "),s("td",[t._v("arrayOf(fieldDef) | (data) => arrayOf(fieldDef)")]),t._v(" "),s("td",[t._v("List of objects that define what fields the form will have and how they will be validated. If "),s("code",[t._v("fieldDefinitions")]),t._v(" can change depending on Form data, this prop can be a function that accepts the data and returns an array of field definitions. See "),s("a",{attrs:{href:"##field-definitions-and-client-side-validation"}},[t._v("Field definitions")]),t._v(" above.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("formatErrors")]),t._v(" "),s("td",[t._v("(array) => string")]),t._v(" "),s("td",[t._v("Formats errors into a notification string. If "),s("code",[t._v("undefined")]),t._v(", up to three errors are shown, one per line. In the case of four or more errors, they are consolidated into a generic message with an error count.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("initialData")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("Initial data object.")]),t._v(" "),s("td",[s("code",[t._v("{}")])])]),t._v(" "),s("tr",[s("td",[t._v("isSubmitOnEnter")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v('Make form available to submit pressing "ENTER" key (e.keyCode===13)')]),t._v(" "),s("td",[t._v("true")])]),t._v(" "),s("tr",[s("td",[t._v("normalizeData")]),t._v(" "),s("td",[t._v("(obj) => obj")]),t._v(" "),s("td",[t._v("Transforms data into a canonical form. Used for equality comparisons, sanitization, and default values.")]),t._v(" "),s("td",[s("code",[t._v("_.identity")])])]),t._v(" "),s("tr",[s("td",[t._v("onBeforeSubmit")]),t._v(" "),s("td",[t._v("(data) => Promise(data|undefined)")]),t._v(" "),s("td",[t._v("Hook for performing an async action before submitting. If defined, it must return a Promise that resolves with a new data object (or "),s("code",[t._v("undefined")]),t._v(" if it is not transforming the data). If the Promise is rejected, form submission is aborted and we notify any errors.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("onSubmit")]),t._v(" "),s("td",[t._v("(data) => Promise")]),t._v(" "),s("td",[t._v("Function that performs the desired submit action. If the Promise is rejected, submission is aborted and we notify any errors.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("onSuccessRedirect")]),t._v(" "),s("td",[t._v("location|string")]),t._v(" "),s("td",[t._v("Location to go to after successful submission. Use "),s("code",[t._v("{ pathname: ':goback' }")]),t._v(" to go back.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("resetAfterSubmit")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("Reset the form data to "),s("code",[t._v("initialData")]),t._v(" after successful submission?")]),t._v(" "),s("td",[s("code",[t._v("false")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"child-function-argument-props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#child-function-argument-props","aria-hidden":"true"}},[this._v("#")]),this._v(" Child function argument props")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("Prop")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")]),t._v(" "),s("th",[t._v("Default")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("data")]),t._v(" "),s("td",[t._v("object")]),t._v(" "),s("td",[t._v("The current form data, limited to fields found in "),s("code",[t._v("fieldDefinitions")]),t._v(".")]),t._v(" "),s("td",[s("code",[t._v("{}")])])]),t._v(" "),s("tr",[s("td",[t._v("fieldProps")]),t._v(" "),s("td",[t._v("arrayOf(fieldProps)")]),t._v(" "),s("td",[t._v("A list of props objects for each field. You can think of it as augmented "),s("code",[t._v("fieldDefinitions")]),t._v(". See shape below.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("onChange")]),t._v(" "),s("td",[t._v("(data) => ?")]),t._v(" "),s("td",[t._v("Function that is passed a slice of the data to update. Usually attached to components that handle user input but can be fired at any point in order to update the form data.")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("reset")]),t._v(" "),s("td",[t._v("() => ?")]),t._v(" "),s("td",[t._v("Resets the form data to "),s("code",[t._v("initialData")]),t._v(".")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("submit")]),t._v(" "),s("td",[t._v("(data) => Promise")]),t._v(" "),s("td",[t._v("The submit method. Typically assigned to the "),s("code",[t._v("onClick")]),t._v(" prop of a submit button.")]),t._v(" "),s("td")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[e("code",[this._v("fieldProps")]),this._v(" shape")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Prop")]),this._v(" "),e("th",[this._v("Type")]),this._v(" "),e("th",[this._v("Description")]),this._v(" "),e("th",[this._v("Default")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("isInvalid")]),this._v(" "),e("td",[this._v("bool")]),this._v(" "),e("td",[this._v("Is the field currently invalid?*")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("isOptional")]),this._v(" "),e("td",[this._v("bool")]),this._v(" "),e("td",[this._v("Can the field be empty upon submission? Per Product Design, if a field is optional, we should be appending “ (optional)” to the label when rendering the field.")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("label")]),this._v(" "),e("td",[this._v("string")]),this._v(" "),e("td",[this._v("The user-facing label for the field.")]),this._v(" "),e("td")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("The key (or path) used for the field in the "),s("code",[t._v("Form")]),t._v(" data.")]),t._v(" "),s("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("value")]),this._v(" "),e("td",[this._v("any")]),this._v(" "),e("td",[this._v("The field’s current value.")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"example-implementations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-implementations","aria-hidden":"true"}},[this._v("#")]),this._v(" Example implementations")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("[views/account/ResetPasswordView] (/src/views/account/ResetPasswordView/index.js) — A simple form to get you started with the minimal wiring up that's required.")]),this._v(" "),e("li",[e("a",{attrs:{href:"/src/components/Addresses/AddressForm/index.js"}},[this._v("components/AddressForm")]),this._v(" — A generic address form for capturing basic address data.")]),this._v(" "),e("li",[e("a",{attrs:{href:"/src/views/checkout/CheckoutView/AddNewCreditCard/index.js"}},[this._v("CheckoutView/AddNewCreditCard")]),this._v(" — Choosing to use a new credit card in checkout.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"why-‘beta’"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#why-‘beta’","aria-hidden":"true"}},[this._v("#")]),this._v(" Why ‘beta’?")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The plan is to have "),s("code",[t._v("components/Form2Beta")]),t._v(" replace "),s("code",[t._v("components/Form")]),t._v(", but that is a ways off. It’s considered ‘beta’ because the API is not stable, it’s lacking some features, and not all field components are at parity with existing ones. Once "),s("code",[t._v("Form2Beta")]),t._v(" powers more of the forms on the site, we can drop the ‘beta’ moniker. Once it powers most of the forms, we can make the push to replace "),s("code",[t._v("components/Form")]),t._v(".")])}],!1,null,null,null);n.options.__file="Form.md";e.default=n.exports}}]);