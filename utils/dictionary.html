<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dictionaries | Bernard Docs</title>
    <meta name="description" content="Evaluating VuePress for Birchbox">
    
    
    <link rel="preload" href="/birchbox-vuepress/assets/css/0.styles.857ea5f3.css" as="style"><link rel="preload" href="/birchbox-vuepress/assets/js/app.a6b284a8.js" as="script"><link rel="preload" href="/birchbox-vuepress/assets/js/109.37f9c620.js" as="script"><link rel="prefetch" href="/birchbox-vuepress/assets/js/10.d536d441.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/100.e3eed064.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/101.5376d96b.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/102.868789ed.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/103.b26899b9.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/104.5db79103.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/105.e5fe62d2.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/106.abc6926b.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/107.efa45c8f.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/108.3c8f7c70.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/11.7c95747f.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/110.798856e4.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/111.0a125a53.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/112.9703c050.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/113.95eb6608.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/114.1093d492.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/115.5bfc9bb9.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/116.3cc5b278.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/117.4ee1790b.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/118.e5611d74.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/119.d801e1c8.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/12.8cef179e.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/120.86d0b8bd.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/121.9550fa71.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/13.cffe586c.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/14.709bdaea.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/15.2ba242d8.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/16.3e254ad7.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/17.a0970d0e.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/18.81232a83.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/19.0718734b.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/2.afe850ac.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/20.07873c92.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/21.373d67cc.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/22.94c8eb67.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/23.82424130.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/24.2e2e1768.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/25.a0e7265d.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/26.a8d8c490.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/27.87a06732.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/28.7520adc2.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/29.e4164a50.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/3.5f102d8c.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/30.0c194aaa.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/31.23d342c7.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/32.9131fe12.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/33.a4fdb389.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/34.1a5c10c5.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/35.ccbb7573.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/36.063acf6c.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/37.3c1d6aff.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/38.c464e236.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/39.79fd2668.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/4.0d731df7.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/40.ea261179.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/41.9ed154e3.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/42.1c6347e3.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/43.6fdc5b55.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/44.3104b0a3.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/45.3aaa6d10.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/46.00d448c3.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/47.195eef7f.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/48.2c055462.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/49.e2c7a351.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/5.0c52544e.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/50.4c1236a0.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/51.a9ab44f7.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/52.15f01429.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/53.f41e8f9d.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/54.f34aa305.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/55.904226fc.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/56.6ee97fc3.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/57.b2912456.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/58.ec4cf578.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/59.0ab6ee02.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/6.65bbad91.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/60.609a5462.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/61.715c841a.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/62.e420d91d.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/63.7257c08f.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/64.c65b3c1d.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/65.6892f357.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/66.886d9933.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/67.b18995d9.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/68.16b5ca46.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/69.1afdf6eb.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/7.5e80c419.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/70.79c806d7.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/71.0df6bbe2.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/72.85a5c675.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/73.ef7b90f9.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/74.1a376dd6.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/75.2074a840.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/76.bdfb2ca4.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/77.269ab2c0.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/78.a66c28ef.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/79.da1586fb.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/8.5838ada6.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/80.5283a3ff.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/81.ca7a60dd.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/82.52c2e08c.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/83.a06e6195.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/84.b803f53d.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/85.16f36486.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/86.2cc56122.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/87.3f8dfa11.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/88.effde8f2.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/89.ec412667.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/9.f208e5aa.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/90.ea7fab1e.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/91.82ddbcf2.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/92.c74ca7ec.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/93.326eb4f3.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/94.02c4ff59.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/95.6d30da62.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/96.94d236d9.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/97.3204ce1e.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/98.df2ed029.js"><link rel="prefetch" href="/birchbox-vuepress/assets/js/99.86b83b59.js">
    <link rel="stylesheet" href="/birchbox-vuepress/assets/css/0.styles.857ea5f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/birchbox-vuepress/" class="home-link router-link-active"><!----> <span class="site-name">Bernard Docs</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/zakness/birchbox-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"> <a href="https://github.com/zakness/birchbox-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/birchbox-vuepress/" class="sidebar-link">Docs</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Guides</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Components</span> <span class="arrow right"></span></p> <!----></div></li><li><a href="/birchbox-vuepress/enhancers/" class="sidebar-link">Enhancers</a></li><li><a href="/birchbox-vuepress/middleware/" class="sidebar-link">Middleware</a></li><li><a href="/birchbox-vuepress/utils/" class="sidebar-link">Utils</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="dictionaries"><a href="#dictionaries" aria-hidden="true" class="header-anchor">#</a> Dictionaries</h1> <p>Dictionaries are groups of translatable phrases that tend to be used together. A Dictionary is created by wrapping a phrase object in the globally-provided <code>dictionary</code> function. Dictionaries live in the <code>dictionary/</code> directory for their specific language.</p> <h2 id="basic-usage"><a href="#basic-usage" aria-hidden="true" class="header-anchor">#</a> Basic usage</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// src/dictionary/en/color.js</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token constant">PICK_A_COLOR</span><span class="token punctuation">:</span> <span class="token string">'Pick a color'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// src/components/ColorPicker.js</span>

<span class="token keyword">import</span> colorDict <span class="token keyword">from</span> <span class="token string">'dictionary/color'</span>

<span class="token keyword">const</span> <span class="token function-variable function">ColorPicker</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token function">colorDict</span><span class="token punctuation">(</span><span class="token string">'PICK_A_COLOR'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>color<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Notice the language dir is omitted from the <code>import</code> statement (i.e. <code>dictionary/color</code> rather than <code>dictionary/en/color</code>). This is mapped to the correct module at build time by webpack.</p> <h2 id="variable-replacement-and-pluralization"><a href="#variable-replacement-and-pluralization" aria-hidden="true" class="header-anchor">#</a> Variable replacement and pluralization</h2> <p>Variable replacement is done using <code>%{...}</code> syntax. Pluralization is done by defining the phrase as a two-item array rather than a string. The first array item is the singular form, the second is the plural form. The correct form is chosen by passing a special <code>count</code> variable to the translate function. See the <a href="#api">API</a> below for more examples.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> addonsDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'addons'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token constant">ADDON_RESERVED</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'This product is shipping with your %{month} Box.'</span><span class="token punctuation">,</span>
    <span class="token string">'%{count} of these are shipping with your %{month} Box.'</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">addonsDict</span><span class="token punctuation">(</span><span class="token string">'ADDON_RESERVED'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> month<span class="token punctuation">:</span> <span class="token string">'February'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// → This product is shipping with your February Box.</span>
<span class="token function">addonsDict</span><span class="token punctuation">(</span><span class="token string">'ADDON_RESERVED'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> month<span class="token punctuation">:</span> <span class="token string">'February'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// → 3 of these are shipping with your February Box.</span>
</code></pre></div><p>When <code>%{count}</code> is included in the phrase, it is automatically formatted with the correct thousands separator for the current locale.</p> <h2 id="extending-dictionaries"><a href="#extending-dictionaries" aria-hidden="true" class="header-anchor">#</a> Extending dictionaries</h2> <p>Let’s say we have a <code>color</code> dictionary that has several phrases. The <code>en</code> and <code>es</code> phrases are completely different, but we want to overwrite one <code>en</code> phrase in <code>en_gb</code>. Here’s what that would look like:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// src/dictionary/en_gb/color.js</span>

<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'dictionary/en/color'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> en<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">PICK_A_COLOR</span><span class="token punctuation">:</span> <span class="token string">'Pick a colour'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The <code>extend</code> function creates a whole new dictionary and deep-merges the new phrases into it.</p> <p>Notice that in this case we have to use the full import path <code>dictionary/en/color</code>, because we explicitly want the <code>en</code> version.</p> <h2 id="phrase-arrays"><a href="#phrase-arrays" aria-hidden="true" class="header-anchor">#</a> Phrase arrays</h2> <p>Sometimes you may want to define a list of phrases. You could use indexed keys, i.e. <code>ITEM_1</code>, <code>ITEM_2</code>, <code>ITEM_3</code>, but that is kludgy and hard to deal with when the length of the list varies. With array literals being reserved for plural forms, the best option is to define your phrase list as a single <code>\n</code>-delimited string and use the dictionary <code>split</code> method to transform it into an array:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token constant">ITEMS</span><span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    This method is very useful\n
    when you have\n
    bulleted lists.\n
  `</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
myDict<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'ITEMS'</span><span class="token punctuation">)</span>
<span class="token comment">// → [ 'This method is very useful', 'when you have', 'bulleted lists.' ]</span>
</code></pre></div><h2 id="missing-keys"><a href="#missing-keys" aria-hidden="true" class="header-anchor">#</a> Missing keys</h2> <p>If a dictionary is called with a missing key, the key itself is returned and a console error is thrown. This loud failure is meant to facilitate identifying missing translations quickly.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">subsDict</span><span class="token punctuation">(</span><span class="token string">'MISSING_KEY'</span><span class="token punctuation">)</span>
<span class="token comment">// → MISSING_KEY</span>
</code></pre></div><p>If you expect a key to be missing sometimes and thus do not consider it a failure case, use the less-strict <code>get</code> method. This will return <code>''</code> if the key is missing.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>subsDict<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'MISSING_KEY'</span><span class="token punctuation">)</span>
<span class="token comment">// → ''</span>
</code></pre></div><h2 id="api"><a href="#api" aria-hidden="true" class="header-anchor">#</a> API</h2> <h3 id="dictionary-filename-string-phrases-object-dictionary"><a href="#dictionary-filename-string-phrases-object-dictionary" aria-hidden="true" class="header-anchor">#</a> <code>dictionary(fileName:string, phrases:object):Dictionary</code></h3> <p>Accepts a <code>fileName</code> string and <code>phrases</code> object and returns a <code>Dictionary</code>-type object. <code>fileName</code> should be the name of the file the dictionary lives in (for example, if the file is <code>src/dictionary/en/product.js</code>, <code>fileName</code> should be <code>product</code>). This will help identifying strings that need translating when in <a href="#visual-debugging">debug mode</a>.</p> <p>Example:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> phrases <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token string">'Hello world'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> phrases<span class="token punctuation">)</span>
</code></pre></div><h3 id="dictionary-key-string-variables-object-count-number-string"><a href="#dictionary-key-string-variables-object-count-number-string" aria-hidden="true" class="header-anchor">#</a> <code>Dictionary(key:string[, variables:object | count:number]):string</code></h3> <p>Accepts a <code>key</code> and optional arg and returns the appropriate value string. If the <code>key</code> does not have a value, <code>key</code> is returned.</p> <p>Basic example:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token string">'Hello world'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">myDict</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hello world'</span>
</code></pre></div><p>Example with variable replacement:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token string">'Hi %{name}'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">myDict</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Daruk'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hi Daruk'</span>
</code></pre></div><p>Example with different plural forms based on <code>count</code>:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'Hey you!'</span><span class="token punctuation">,</span> <span class="token string">'Hey all %{count} of you!'</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">myDict</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hey you!'</span>
<span class="token function">myDict</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hey all 1,000 of you!'</span>
<span class="token function">myDict</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hey all 1,000 of you!'</span>
</code></pre></div><p>Example with nested phrases:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token constant">WORLD</span><span class="token punctuation">:</span> <span class="token string">'Hello world'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">myDict</span><span class="token punctuation">(</span><span class="token string">'HELLO.WORLD'</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hello world'</span>
</code></pre></div><p>Example with a missing key:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token string">'Hello world'</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">myDict</span><span class="token punctuation">(</span><span class="token string">'GOODBYE'</span><span class="token punctuation">)</span> <span class="token comment">// → 'GOODBYE'</span>
</code></pre></div><h3 id="dictionary-get-key-string-variables-object-count-number-string"><a href="#dictionary-get-key-string-variables-object-count-number-string" aria-hidden="true" class="header-anchor">#</a> <code>Dictionary.get(key:string[, variables:object | count:number]):string</code></h3> <p>Same as <code>Dictionary(...)</code>, but returns <code>''</code> if the key is missing.</p> <p>Example with a missing key:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token string">'Hello world'</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
myDict<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'GOODBYE'</span><span class="token punctuation">)</span> <span class="token comment">// → ''</span>
</code></pre></div><h3 id="dictionary-split-key-string-variables-object-count-number-array"><a href="#dictionary-split-key-string-variables-object-count-number-array" aria-hidden="true" class="header-anchor">#</a> <code>Dictionary.split(key:string[, variables:object | count:number]):array</code></h3> <p>Splits the phrase at <code>key</code> on <code>\n</code>, trims each item, and returns a compact string array.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> myDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token constant">ITEMS</span><span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    This method is very useful\n
    when you have\n
    bulleted lists.\n
  `</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
myDict<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'ITEMS'</span><span class="token punctuation">)</span>
<span class="token comment">// → [ 'This method is very useful', 'when you have', 'bulleted lists.' ]</span>
</code></pre></div><h3 id="dictionary-extend-phrases-object-dictionary"><a href="#dictionary-extend-phrases-object-dictionary" aria-hidden="true" class="header-anchor">#</a> <code>Dictionary.extend(phrases:object):Dictionary</code></h3> <p>Accepts additional <code>phrases</code> to extend onto an existing dictionary. Returns a new <code>Dictionary</code> object without modifying the calling one. Extending is done using a deep-merge.</p> <p>Basic example:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> usDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token string">'Hello world'</span><span class="token punctuation">,</span> <span class="token constant">PICK_A_COLOR</span><span class="token punctuation">:</span> <span class="token string">'Pick a color'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ukDict <span class="token operator">=</span> usDict<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token constant">PICK_A_COLOR</span><span class="token punctuation">:</span> <span class="token string">'Pick a colour'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">ukDict</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hello world'</span>
<span class="token function">ukDict</span><span class="token punctuation">(</span><span class="token string">'PICK_A_COLOR'</span><span class="token punctuation">)</span> <span class="token comment">// → 'Pick a colour'</span>
<span class="token function">usDict</span><span class="token punctuation">(</span><span class="token string">'PICK_A_COLOR'</span><span class="token punctuation">)</span> <span class="token comment">// → 'Pick a color'</span>
</code></pre></div><p>Nested keys example:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> usDict <span class="token operator">=</span> <span class="token function">dictionary</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">HELLO</span><span class="token punctuation">:</span> <span class="token string">'Hello world'</span><span class="token punctuation">,</span> <span class="token constant">PICK</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token constant">COLOR</span><span class="token punctuation">:</span> <span class="token string">'Pick a color'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ukDict <span class="token operator">=</span> usDict<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pick<span class="token punctuation">:</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">'Pick a colour'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">ukDict</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">)</span> <span class="token comment">// → 'Hello world'</span>
<span class="token function">ukDict</span><span class="token punctuation">(</span><span class="token string">'PICK.COLOR'</span><span class="token punctuation">)</span> <span class="token comment">// → 'Pick a colour'</span>
</code></pre></div><h2 id="visual-debugging"><a href="#visual-debugging" aria-hidden="true" class="header-anchor">#</a> Visual debugging</h2> <p>If you want to see where translations are coming from when viewing the website, you can activate ‘dictionary debug mode’. To do this, enter the following in the browser console and then refresh:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'debugDictionary'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><p>While in this mode, an identifying token will be appended to any phrases that are translated with a <code>dictionary</code>. The token takes the form <code>[fileName.PHRASE_KEY]</code>. This should be enough information to locate the phrase in the codebase and modify the value in any language.</p> <p>Example:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> productDict <span class="token keyword">from</span> <span class="token string">'dictionary/product'</span>

<span class="token function">productDict</span><span class="token punctuation">(</span><span class="token string">'ADD_TO_CART'</span><span class="token punctuation">)</span>
<span class="token comment">// → Add to Cart [product.ADD_TO_CART]</span>
</code></pre></div><p>This means the phrase can be found at the <code>ADD_TO_CART</code> key in the dictionary at <code>src/dictionary/LANG/product.js</code>.</p> <p>If <code>split</code> is used to render a list of phrases, each item in the list will have a token plus the item index:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>exampleDict<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'ITEMS'</span><span class="token punctuation">)</span>
<span class="token comment">// → [ 'Item 1 [example.ITEMS][0]', 'Item 2 [example.ITEMS][1]' ]</span>
</code></pre></div><p>To exit debug mode, either close the tab or enter the following in the browser console and then refresh:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'debugDictionary'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="under-the-hood"><a href="#under-the-hood" aria-hidden="true" class="header-anchor">#</a> Under the hood</h2> <p>We use <a href="https://github.com/airbnb/polyglot.js" target="_blank" rel="noopener noreferrer">polyglot<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as our translation engine because it is very lightweight and does only what we need. However, its pluralization syntax is a little wonky, so we massage it to make it better. As a side note, if we end up modifying it heavily we may consider just rolling our own engine using it as inspiration.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/zakness/birchbox-vuepress/edit/vuepress/docs/utils/dictionary.md" target="_blank" rel="noopener noreferrer">Edit on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/14/2019, 10:21:26 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/birchbox-vuepress/assets/js/app.a6b284a8.js" defer></script><script src="/birchbox-vuepress/assets/js/109.37f9c620.js" defer></script>
  </body>
</html>
