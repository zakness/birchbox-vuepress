(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{224:function(e,t,s){"use strict";s.r(t);var a=s(0),r=Object(a.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),s("p",[e._v("On dev containers, Tech Ops has built a "),s("code",[e._v("node-app")]),e._v(" CLI for managing the node server. The process is run in a separate environment, so you cannot run the "),e._m(1),e._v(" scripts directly like you can when "),s("router-link",{attrs:{to:"/guides/developing-locally.html"}},[e._v("developing locally")]),e._v(".")],1),e._v(" "),s("p",[e._v("Each target (com, es, uk) runs in a separate dev container.")]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._m(4),e._v(" "),e._m(5),e._m(6),e._v(" "),e._m(7),s("p",[e._v("Note that when the server is restarted, it takes up to a minute to rebuild the app and begin handling requests again.")]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._m(14),e._v(" "),e._m(15)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"developing-on-dev-containers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#developing-on-dev-containers","aria-hidden":"true"}},[this._v("#")]),this._v(" Developing on dev containers")])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:"/package.json"}},[t("code",[this._v("package.json")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"app-url"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#app-url","aria-hidden":"true"}},[this._v("#")]),this._v(" App URL")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("https://app.USER.dev.birchbox.TLD\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"repo-location"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#repo-location","aria-hidden":"true"}},[this._v("#")]),this._v(" Repo location")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cd ~/unit/TLD.birchbox.app/repo\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"issue-commands-to-node-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#issue-commands-to-node-app","aria-hidden":"true"}},[this._v("#")]),this._v(" Issue commands to node app")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("node-app -c [start, stop, restart, check]\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"update-or-reinstall-dependencies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update-or-reinstall-dependencies","aria-hidden":"true"}},[this._v("#")]),this._v(" Update or reinstall dependencies")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("node-app -c [update, reinstall]\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("code",[e._v("update")]),e._v(" will run "),s("code",[e._v("npm install")]),e._v(" and restart the server. "),s("code",[e._v("reinstall")]),e._v(" does the same, but deletes the "),s("code",[e._v("node_modules")]),e._v(" directory first.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"use-staging-apis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#use-staging-apis","aria-hidden":"true"}},[this._v("#")]),this._v(" Use staging APIs")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("By default the node app will use your dev containerâ€™s APIs. If you want to use staging instead, use the "),t("code",[this._v("API_ENV")]),this._v(" environment variable:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("API_ENV=staging node-app -c restart\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"node-server-logs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-server-logs","aria-hidden":"true"}},[this._v("#")]),this._v(" Node server logs")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cd ~/unit/TLD.birchbox.app/log/node-app\ntail current\n")])])])}],!1,null,null,null);r.options.__file="developing-on-dev-containers.md";t.default=r.exports}}]);